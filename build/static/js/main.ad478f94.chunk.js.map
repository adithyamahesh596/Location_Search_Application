{"version":3,"sources":["types.js","api.js","actions/auth.js","components/pages/HomePage.js","components/messages/InlineError.js","components/forms/LoginForm.js","components/pages/LoginPage.js","components/pages/NewPage.js","components/pages/Map.js","components/pages/Search.js","App.js","registerServiceWorker.js","rootReducer.js","reducers/user.js","index.js"],"names":["USER_LOGGED_IN","USER_LOGGED_OUT","api","login","credentials","axios","post","then","res","data","user","userLoggedIn","type","connect","state","isAuthenticated","token","logout","dispatch","localStorage","removeItem","_ref","react_default","a","createElement","className","Link","to","InlineError","text","style","color","LoginForm","email","password","loading","errors","onSubmit","_this","validate","setState","Object","keys","length","props","submit","catch","err","response","Validator","isEmail","onChange","e","objectSpread","defineProperty","target","name","value","_this$state","this","Form","global","Message","negative","Header","Field","error","htmlFor","id","placeholder","messages_InlineError","Button","primary","Component","LoginPage","history","push","forms_LoginForm","bookwormJWT","NewPage","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","manipState","key","assign","handleChange","handleSelect","option","selected","options","label","react_select_input_es","onSelect","autoFocus","openUp","disableEnter","collapseOnBlur","collapseOnEscape","collapseOnSelect","Map","map","markers","console","log","JSON","stringify","getCenter","getZoom","venue","i","marker","position","lat","location","lng","lib","ref","mapLoaded","bind","onDragEnd","mapMoved","onZoomChanged","zoomChanged","defaultZoom","zoom","center","withGoogleMap","Search","venues","search","query","radius","centerLat","centerLng","field","event","_this2","preventDefault","params","v","near","limit","client_id","client_secret","superagent","get","set","end","alert","body","forceUpdate","pages_Map","containerElement","height","mapElement","updateSearchFilters","onClick","searchVenues","categories","formattedAddress","url","href","App","Route","path","exact","component","HomePage","isLocalhost","Boolean","window","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","combineReducers","arguments","undefined","action","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","BrowserRouter","es","src_App","document","getElementById","URL","process","origin","addEventListener","concat","fetch","status","headers","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.ad478f94.chunk.js","sourcesContent":["export const USER_LOGGED_IN = \"USER_LOGGED_IN\";\r\nexport const USER_LOGGED_OUT = \"USER_LOGGED_OUT\";","import axios from 'axios';\r\n\r\nexport default {\r\n    user: {\r\n        login: credentials =>\r\n            axios.post(\"/api/auth\", {credentials}).then(res =>res.data.user)\r\n    }\r\n}","import { USER_LOGGED_IN, USER_LOGGED_OUT } from \"../types\";\r\nimport api from \"../api\";\r\n\r\nexport const userLoggedIn = user => ({\r\n    type: USER_LOGGED_IN,\r\n    user\r\n});\r\n\r\nexport const userLoggedOut = () => ({\r\n    type: USER_LOGGED_OUT\r\n});\r\n\r\nexport const login = credentials => dispatch =>\r\n    api.user.login(credentials).then(user => {\r\n        localStorage.bookwormJWT = user.token;\r\n        dispatch(userLoggedIn(user));\r\n    });\r\n\r\nexport const logout = () => dispatch =>\r\n     {\r\n        localStorage.removeItem(\"bookwormJWT\");\r\n        dispatch(userLoggedOut());\r\n    };","import React from 'react';\r\nimport PropTypes from \"prop-types\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from 'react-redux';\r\nimport { logout } from '../../actions/auth'\r\n\r\nconst HomePage = ({ isAuthenticated, logout }) => (\r\n            <div className=\"container\">\r\n                <div className=\"row\">\r\n                    <h1>HomePage</h1>\r\n                    {/*{isAuthenticated ?\r\n                    (<button onClick={() => logout()}>Logout</button>) :\r\n                    (<Link to=\"/login\">Login</Link>)}<br />*/}\r\n                    <h1><Link to=\"/new\">About</Link><br /></h1>\r\n                    <h1><Link to=\"/search\">Click here to go to Location Search Application</Link></h1>\r\n                </div>\r\n            </div>\r\n        );\r\n\r\nHomePage.propTypes = {\r\n    isAuthenticated: PropTypes.bool.isRequired,\r\n    logout: PropTypes.func.isRequired\r\n};\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        isAuthenticated: !!state.user.token\r\n    };\r\n}\r\n\r\nexport default connect(mapStateToProps, { logout })(HomePage);\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst InlineError = ({ text }) =>\r\n    <span style={{ color: \"#ae5856\"}}>\r\n        {text}</span>;\r\n\r\n\r\nInlineError.propTypes = {\r\n    text:PropTypes.string.isRequired\r\n};\r\n\r\nexport default InlineError;","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Form, Button, Message } from 'semantic-ui-react'\r\nimport Validator from 'validator';\r\nimport InlineError from '../messages/InlineError';\r\n\r\nclass LoginForm extends Component {\r\n    state={\r\n        data:{\r\n            email:'',\r\n            password:''\r\n        },\r\n        loading: false,\r\n        errors:{}\r\n    };\r\n\r\n    onSubmit = () => {\r\n        const errors = this.validate(this.state.data);\r\n        this.setState({ errors });\r\n        if(Object.keys(errors).length === 0) {\r\n            this.setState({ loading:true });\r\n            this.props\r\n                .submit(this.state.data)\r\n                .catch(err => this.setState({ errors: err.response.data.errors, loading: false}));\r\n        }\r\n    };\r\n\r\n    validate = (data) => {\r\n        const errors = {};\r\n        if(!Validator.isEmail(data.email)) errors.email = \"Invalid email\";\r\n        if(!data.password) errors.password = \"Invalid password\";\r\n        return errors;\r\n    };\r\n\r\n    onChange = e =>\r\n        this.setState({\r\n        data: { ...this.state.data,\r\n         [e.target.name]: e.target.value}\r\n        });\r\n\r\n\r\n    render() {\r\n        const {data, errors, loading } = this.state;\r\n\r\n        return (\r\n            <Form onSubmit={this.onSubmit} loading={loading}>\r\n                { errors.global && (\r\n                    <Message negative>\r\n                    <Message.Header>Something went wrong</Message.Header>\r\n                    <p>{errors.global}</p>\r\n                </Message>\r\n                )}\r\n                <Form.Field error={!!errors.email}>\r\n                    <label htmlFor=\"email\">Email</label>\r\n                    <input\r\n                        type=\"email\"\r\n                        id=\"email\"\r\n                        name=\"email\"\r\n                        placeholder=\"example@example.com\"\r\n                        value={data.email}\r\n                         onChange={this.onChange}\r\n                        />\r\n                    {errors.email && <InlineError text={errors.email} />}\r\n                </Form.Field>\r\n                <Form.Field error={!!errors.password}>\r\n                    <label htmlFor=\"password\">Password</label>\r\n                    <input\r\n                        type=\"password\"\r\n                        id=\"password\"\r\n                        name=\"password\"\r\n                        placeholder=\"Enter password\"\r\n                        value={data.password}\r\n                        onChange={this.onChange}\r\n                    />\r\n                    {errors.password && <InlineError text={errors.password} />}\r\n                </Form.Field>\r\n                <Button primary>Login</Button>\r\n            </Form>\r\n        );\r\n    }\r\n}\r\n\r\nLoginForm.propTypes = {\r\n    submit: PropTypes.func.isRequired\r\n};\r\n\r\nexport default LoginForm;\r\n","import React, { Component } from 'react';\n//import { Link } from \"react-router-dom\";\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport LoginForm from \"../forms/LoginForm\"\nimport { login } from \"../../actions/auth\";\n\nclass LoginPage extends Component {\n    submit = data => this.props.login(data).then(() => this.props.history.push(\"/\"));\n\n\n    render() {\n        return (\n            <div>\n                <h1>LoginPage</h1>\n                <LoginForm submit={this.submit}/>\n                {/*<Link to=\"/home\">Home</Link>*/}\n            </div>\n        );\n    }\n}\n\nLoginPage.propTypes = {\n    history: PropTypes.shape({\n        push: PropTypes.func.isRequired\n    }).isRequired,\n    login: PropTypes.func.isRequired\n};\n\nexport default connect(null, {login})(LoginPage);\n","import React, {Component} from 'react'\n\nimport './../../../node_modules/react-select-input/lib/react-select-input.css';\nimport InputSelect from 'react-select-input';\n\nexport default class NewPage extends Component {\n  constructor() {\n    super();\n    this.state = {\n      selected: {}\n    }\n\n    this.options = [\n        { label: \"Top Picks\", value: \"toppicks\" },\n        { label: \"Trending\", value: \"trending\" },\n        { label: \"Food\", value: \"food\" },\n        { label: \"Coffee\", value: \"coffee\" },\n        { label: \"Nightlife\", value: \"nightlife\" },\n        { label: \"Fun\", value: \"fun\" },\n        { label: \"Shopping\", value: \"shopping\" }\n    ];\n  }\n\n  manipState = (state, key, value) => {\n    return Object.assign({}, state, {\n      [key]: value\n    });\n  }\n\n  handleChange = (key) => {\n    let state = this.manipState(this.state, key, !this.state[key]);\n    this.setState(state);\n  }\n\n  handleSelect = (option) => {\n    let state = this.manipState(this.state, 'selected', option);\n    this.setState(state);\n  }\n\n\n  render() {\n    return <div className=\"demo-inner\">\n      <h1>react-select-input Demo</h1>\n      <InputSelect\n        onSelect={this.handleSelect}\n        onChange={this.handleChange}\n        options={this.options}\n        autoFocus={false}\n        openUp={false}\n        disableEnter={true}\n        collapseOnBlur={true}\n        collapseOnEscape={true}\n        collapseOnSelect={true}\n      />\n    </div>\n  }\n}\n\n","import React, {Component} from 'react';\r\nimport {withGoogleMap, GoogleMap, Marker} from 'react-google-maps';\r\n\r\nclass Map extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            map:null,\r\n            markers:[]\r\n        };\r\n        \r\n    }\r\n\r\n    mapMoved()\r\n    {\r\n        console.log('map moved:'+ JSON.stringify(this.state.map.getCenter())); \r\n    }\r\n\r\n    mapLoaded(map)\r\n    {\r\n        //console.log('map loaded:' + JSON.stringify(map.getCenter()) );\r\n        if(this.state.map!== null)\r\n        {\r\n            return;\r\n        }\r\n        this.setState({\r\n            map:map\r\n        })\r\n    }\r\n\r\n    zoomChanged()\r\n    {\r\n        console.log('zoom changed:' + this.state.map.getZoom())\r\n    }\r\n\r\n    // componentDidUpdate(prevProps) {\r\n    //     // Typical usage (don't forget to compare props):\r\n    //     if(this.props.markers.length > 0) {\r\n    //         if ((this.props.markers[0].location.lat !== prevProps.markers[0].location.lat)\r\n    //         || (this.props.markers[0].location.lng !== prevProps.markers[0].location.lng)) {\r\n    //           this.forceUpdate();\r\n    //           console.log(this.props.markers[0])\r\n    //         }\r\n    //     }        \r\n    //   }\r\n\r\n    render(){\r\n        console.log(this.props);\r\n        const markers = this.props.markers.map((venue, i) => {\r\n            const marker = {\r\n                position:{\r\n                    lat: venue.location.lat,\r\n                    lng: venue.location.lng\r\n                }\r\n            };\r\n            return <Marker key={i} {...marker} />\r\n        });\r\n\r\n        return (\r\n            <div>\r\n                <GoogleMap\r\n                    ref={this.mapLoaded.bind(this)}\r\n                    onDragEnd={this.mapMoved.bind(this)}\r\n                    onZoomChanged={this.zoomChanged.bind(this)}\r\n                    defaultZoom={this.props.zoom}\r\n                    center={this.props.center}>\r\n                    {markers}\r\n                    {/*{markers.map((marker, index) =>(\r\n                <Marker {...marker}/>\r\n                )\r\n                    )}*/}\r\n                </GoogleMap>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withGoogleMap(Map);","import React, {Component} from 'react';\r\n//eslint-disable-next-line\r\nimport {get} from 'superagent';\r\n//import ReactDOM from 'react-dom';\r\n//eslint-disable-next-line\r\nimport superagent from 'superagent';\r\nimport Map from './Map';\r\nimport './../../../node_modules/react-select-input/lib/react-select-input.css';\r\nimport InputSelect from 'react-select-input';\r\n\r\n\r\nclass Search extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            venues: [],\r\n            search: {\r\n                location: '',\r\n                query: '',\r\n                radius: '',\r\n            },\r\n            centerLat: 37.401018799999996,\r\n            centerLng: -122.0178674,\r\n            selected: {}\r\n        }\r\n\r\n        this.options = [\r\n            { label: \"Top Picks\", value: \"toppicks\" },\r\n            { label: \"Trending\", value: \"trending\" },\r\n            { label: \"Food\", value: \"food\" },\r\n            { label: \"Coffee\", value: \"coffee\" },\r\n            { label: \"Nightlife\", value: \"nightlife\" },\r\n            { label: \"Fun\", value: \"fun\" },\r\n            { label: \"Shopping\", value: \"shopping\" }\r\n        ];\r\n    }\r\n\r\n    manipState = (state, key, value) => {\r\n        return Object.assign({}, state, {\r\n          [key]: value\r\n        });\r\n      }\r\n    \r\n      handleChange = (key) => {\r\n        let state = this.manipState(this.state, key, !this.state[key]);\r\n        this.setState(state);\r\n      }\r\n    \r\n      handleSelect = (option) => {\r\n        let state = this.manipState(this.state, 'selected', option);\r\n        this.setState(state);\r\n      }\r\n\r\n    updateSearchFilters(field, event) {\r\n        const search = Object.assign({}, this.state.search);\r\n        search[field] = event.target.value;\r\n        this.setState({search});\r\n    }\r\n\r\n    searchVenues(event) {\r\n        event.preventDefault();\r\n        console.log('searchVenues: ' + JSON.stringify(this.state.search));\r\n        const url = 'https://api.foursquare.com/v2/venues/search';\r\n        const params = {\r\n            v: '20190101',\r\n            near: this.state.search.location,\r\n            query: this.state.selected.value,\r\n            limit: 50,\r\n            radius: this.state.search.radius,\r\n            client_id: 'FDTNNCZ2XM53JG0PDPHBJRRGEJU5TCKHAUT1KGEAXKGURAPE',\r\n            client_secret: 'ANZQ2VPFYNUNAXKQQ3G000KMDKIAW2VZIMOKVYUOG41QEKLT'\r\n        };\r\n\r\n        superagent\r\n            .get(url)\r\n            .query(params)\r\n            .set('Accept', 'application/json')\r\n            .end((err, data) => {\r\n                if (err) {\r\n                    alert('PLEASE FILL OUT ALL THE FIELDS');\r\n                    return\r\n                }\r\n                const venues = data.body.response.venues;\r\n                \r\n                this.setState({\r\n                    venues: venues\r\n                }, () => {\r\n                    console.log(this.state.venues);\r\n                    if(this.state.venues.length > 0) {\r\n                        this.setState({ \r\n                            centerLat: this.state.venues[0].location.lat,\r\n                            centerLng: this.state.venues[0].location.lng\r\n                        })\r\n                    }                    \r\n                    this.forceUpdate();\r\n                })\r\n            });\r\n            \r\n        }\r\n\r\n    render() {\r\n        const location = {\r\n            lat: this.state.centerLat,\r\n            lng: this.state.centerLng\r\n        };\r\n\r\n        return (\r\n            <form>\r\n                <div className=\"row\">\r\n                    <div className=\"col-6 col-sm-6 col-md-8 col-lg-9 col-xl-9 clear-padding\">\r\n                        <Map center={location}\r\n                            zoom={12}\r\n                            containerElement={<div style={{height: 100 + 'vh'}}/>}\r\n                            mapElement={<div style={{height: 100 + 'vh'}}/>}\r\n                            markers={this.state.venues}\r\n                        />\r\n                    </div>\r\n                    <div className=\"col-6 col-sm-6 col-md-4 col-lg-3 col-xl-3 clear-padding\">\r\n                        <div className=\"form-style-8\" style={{height: 100 + 'vh'}}>\r\n                            <div className=\"box\">\r\n                                <h1>Search Venues</h1>\r\n                                <InputSelect\r\n                                    onSelect={this.handleSelect}\r\n                                    onChange={this.handleChange}\r\n                                    options={this.options}\r\n                                    autoFocus={false}\r\n                                    openUp={false}\r\n                                    disableEnter={true}\r\n                                    collapseOnBlur={true}\r\n                                    collapseOnEscape={true}\r\n                                    collapseOnSelect={true}\r\n                                />\r\n                                <input onChange={this.updateSearchFilters.bind(this, 'location')} type=\"number\"\r\n                                    placeholder=\"Zipcode\" className=\"inputRequired\"/>\r\n                                <input onChange={this.updateSearchFilters.bind(this, 'radius')} type=\"number\"\r\n                                    placeholder=\"Radius in metres\"/>\r\n                                \r\n                            </div>\r\n                            <p>\r\n                                <button className=\"w3-button w3-border w3-hover-cyan w3-xlarge\"\r\n                                            onClick={this.searchVenues.bind(this)}>Search\r\n                                </button>\r\n                            </p>\r\n\r\n                            <h1>Venues</h1>\r\n                            \r\n                            <ul>\r\n                                {this.state.venues.map((venue, i) => {\r\n                                    return <li key={venue.id}>\r\n                                        <div id=\"venue\">\r\n                                            <div id=\"venue-text\">\r\n                                                <span id=\"name\">{venue.name}</span><br/>\r\n                                                {venue.categories.length > 0 ? (<b>{venue.categories[0].name}<br/></b>) : (null)}\r\n                                                <span>{venue.location.formattedAddress[0]}</span><br/>\r\n                                                <span>{venue.location.formattedAddress[1]}</span><br/>\r\n                                                <span>{venue.location.formattedAddress[2]}</span><br/>\r\n                                                {venue.url ? (<a href={venue.url}>{venue.url}<br/></a>) : (null)}\r\n                                                {\r\n                                                    //venue.contact.phone ? (<b>{venue.contact.phone}<br/></b>) : (null)\r\n                                                }\r\n                                            </div>\r\n                                        </div>\r\n                                    </li>\r\n                                })\r\n                                }\r\n                            </ul>\r\n                            \r\n                        \r\n                            </div>\r\n                        \r\n                    </div>\r\n                </div>\r\n            </form>\r\n        )\r\n    }\r\n}\r\n\r\nexport default (Search);","import React, { Component } from 'react';\nimport { Route } from \"react-router-dom\";\nimport HomePage from \"./components/pages/HomePage\";\nimport LoginPage from \"./components/pages/LoginPage\";\nimport NewPage from \"./components/pages/NewPage\";\nimport Search from \"./components/pages/Search\";\n//import NewPage from \"./components/pages/NewPage\";\n\nclass App extends Component {\n  render() {\n    return (\n          <div>\n            <Route path=\"/\" exact component={Search} />\n            <Route path=\"/login\" exact component={LoginPage} />                     \n            <Route path=\"/new\" exact component={NewPage} />            \n            <Route path=\"/search\" exact component={HomePage} />\n          </div>\n    );\n  }\n}\n\nexport default App;\n","/* eslintdisable */\r\n// In production, we register a service worker to serve assets from local cache.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\r\n// cached resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\r\n// This link also includes instructions on opting out of this behavior.\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport default function register() {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (!isLocalhost) {\r\n        // Is not local host. Just register service worker\r\n        registerValidSW(swUrl);\r\n      } else {\r\n        // This is running on localhost. Lets check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the old content will have been purged and\r\n              // the fresh content will have been added to the cache.\r\n              // It's the perfect time to display a \"New content is\r\n              // available; please refresh.\" message in your web app.\r\n              console.log('New content is available; please refresh.');\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      if (\r\n        response.status === 404 ||\r\n        response.headers.get('content-type').indexOf('javascript') === -1\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import { combineReducers } from \"redux\";\r\nimport user from \"./reducers/user\";\r\n\r\nexport default combineReducers({\r\n    user\r\n});","import { USER_LOGGED_IN, USER_LOGGED_OUT} from \"../types\";\r\n\r\nexport default function user(state = {}, action = {}) {\r\n    switch(action.type) {\r\n        case USER_LOGGED_IN:\r\n            return action.user;\r\n        case USER_LOGGED_OUT:\r\n            return {};\r\n        default:\r\n            return state;\r\n    }\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter} from 'react-router-dom';\r\nimport 'semantic-ui-css/semantic.min.css';\r\nimport { createStore, applyMiddleware } from 'redux';\r\nimport { Provider } from 'react-redux';\r\nimport thunk from 'redux-thunk';\r\nimport App from './App';\r\nimport registerServiceWorker from './registerServiceWorker';\r\nimport rootReducer from \"./rootReducer\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport { userLoggedIn } from './actions/auth';\r\n\r\nconst store = createStore(\r\n    rootReducer,\r\n    composeWithDevTools(applyMiddleware(thunk)));\r\n\r\nif(localStorage.bookwormJWT) {\r\n    const user = { token: localStorage.bookwormJWT };\r\n    store.dispatch(userLoggedIn(user));\r\n}\r\n\r\nReactDOM.render(\r\n    <BrowserRouter>\r\n        <Provider store={store}>\r\n        <App />\r\n        </Provider>\r\n    </BrowserRouter>,\r\n    document.getElementById('root'));\r\n registerServiceWorker();\r\n"],"sourceRoot":""}